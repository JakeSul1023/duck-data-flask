{"ast":null,"code":"// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Hash } from \"./hash.js\";\nimport CRC32C from \"./algorithms/crc32c.js\";\nimport { encodeNumber } from \"./utils/digest-utils.js\";\n/**\n * A transform that calculates CRC32c Hash\n */\nexport class CRC32CHash extends Hash {\n  name = 'crc32c';\n  options;\n  /**\n   * Atomic hash calculation\n   * @returns base64 encoded hash\n   */\n  constructor(options = {}) {\n    super();\n    this.options = {\n      crypto: {},\n      ...options\n    };\n  }\n  /**\n   * Atomic hash calculation\n   * @returns base64 encoded hash\n   */\n  async hash(input, encoding) {\n    return this.hashSync(input, encoding);\n  }\n  hashSync(input, encoding) {\n    const hash = new CRC32C(this.options);\n    hash.update(input);\n    const digest = hash.finalize();\n    return encodeNumber(digest, encoding);\n  }\n  // runInBatches inherited\n  async *hashBatches(asyncIterator, encoding = 'base64') {\n    const hash = new CRC32C(this.options);\n    for await (const chunk of asyncIterator) {\n      hash.update(chunk);\n      yield chunk;\n    }\n    const digest = hash.finalize();\n    this.options.crypto?.onEnd?.({\n      hash: encodeNumber(digest, encoding)\n    });\n  }\n}","map":{"version":3,"names":["Hash","CRC32C","encodeNumber","CRC32CHash","name","options","constructor","crypto","hash","input","encoding","hashSync","update","digest","finalize","hashBatches","asyncIterator","chunk","onEnd"],"sources":["C:/Users/jakes/Documents/GitHub/duck-data-flask/duck-data-webpage/node_modules/@loaders.gl/crypto/dist/lib/crc32c-hash.js"],"sourcesContent":["// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { Hash } from \"./hash.js\";\nimport CRC32C from \"./algorithms/crc32c.js\";\nimport { encodeNumber } from \"./utils/digest-utils.js\";\n/**\n * A transform that calculates CRC32c Hash\n */\nexport class CRC32CHash extends Hash {\n    name = 'crc32c';\n    options;\n    /**\n     * Atomic hash calculation\n     * @returns base64 encoded hash\n     */\n    constructor(options = {}) {\n        super();\n        this.options = { crypto: {}, ...options };\n    }\n    /**\n     * Atomic hash calculation\n     * @returns base64 encoded hash\n     */\n    async hash(input, encoding) {\n        return this.hashSync(input, encoding);\n    }\n    hashSync(input, encoding) {\n        const hash = new CRC32C(this.options);\n        hash.update(input);\n        const digest = hash.finalize();\n        return encodeNumber(digest, encoding);\n    }\n    // runInBatches inherited\n    async *hashBatches(asyncIterator, encoding = 'base64') {\n        const hash = new CRC32C(this.options);\n        for await (const chunk of asyncIterator) {\n            hash.update(chunk);\n            yield chunk;\n        }\n        const digest = hash.finalize();\n        this.options.crypto?.onEnd?.({ hash: encodeNumber(digest, encoding) });\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,WAAW;AAChC,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,SAASC,YAAY,QAAQ,yBAAyB;AACtD;AACA;AACA;AACA,OAAO,MAAMC,UAAU,SAASH,IAAI,CAAC;EACjCI,IAAI,GAAG,QAAQ;EACfC,OAAO;EACP;AACJ;AACA;AACA;EACIC,WAAWA,CAACD,OAAO,GAAG,CAAC,CAAC,EAAE;IACtB,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,OAAO,GAAG;MAAEE,MAAM,EAAE,CAAC,CAAC;MAAE,GAAGF;IAAQ,CAAC;EAC7C;EACA;AACJ;AACA;AACA;EACI,MAAMG,IAAIA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IACxB,OAAO,IAAI,CAACC,QAAQ,CAACF,KAAK,EAAEC,QAAQ,CAAC;EACzC;EACAC,QAAQA,CAACF,KAAK,EAAEC,QAAQ,EAAE;IACtB,MAAMF,IAAI,GAAG,IAAIP,MAAM,CAAC,IAAI,CAACI,OAAO,CAAC;IACrCG,IAAI,CAACI,MAAM,CAACH,KAAK,CAAC;IAClB,MAAMI,MAAM,GAAGL,IAAI,CAACM,QAAQ,CAAC,CAAC;IAC9B,OAAOZ,YAAY,CAACW,MAAM,EAAEH,QAAQ,CAAC;EACzC;EACA;EACA,OAAOK,WAAWA,CAACC,aAAa,EAAEN,QAAQ,GAAG,QAAQ,EAAE;IACnD,MAAMF,IAAI,GAAG,IAAIP,MAAM,CAAC,IAAI,CAACI,OAAO,CAAC;IACrC,WAAW,MAAMY,KAAK,IAAID,aAAa,EAAE;MACrCR,IAAI,CAACI,MAAM,CAACK,KAAK,CAAC;MAClB,MAAMA,KAAK;IACf;IACA,MAAMJ,MAAM,GAAGL,IAAI,CAACM,QAAQ,CAAC,CAAC;IAC9B,IAAI,CAACT,OAAO,CAACE,MAAM,EAAEW,KAAK,GAAG;MAAEV,IAAI,EAAEN,YAAY,CAACW,MAAM,EAAEH,QAAQ;IAAE,CAAC,CAAC;EAC1E;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}