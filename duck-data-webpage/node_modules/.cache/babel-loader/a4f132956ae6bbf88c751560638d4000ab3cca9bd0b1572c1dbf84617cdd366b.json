{"ast":null,"code":"// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/** Guess service type from URL */\nexport function selectSource(url, sources, options) {\n  const type = options?.type || 'auto';\n  let selectedSource = null;\n  if (type === 'auto') {\n    for (const source of sources) {\n      if (typeof url === 'string' && source.testURL && source.testURL(url)) {\n        return source;\n      }\n    }\n  } else {\n    selectedSource = getSourceOfType(type, sources);\n  }\n  if (!selectedSource && !options?.nothrow) {\n    throw new Error('Not a valid image source type');\n  }\n  return selectedSource;\n}\n/** Guess service type from URL */\nfunction getSourceOfType(type, sources) {\n  for (const service of sources) {\n    if (service.type === type) {\n      return service;\n    }\n  }\n  return null;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}