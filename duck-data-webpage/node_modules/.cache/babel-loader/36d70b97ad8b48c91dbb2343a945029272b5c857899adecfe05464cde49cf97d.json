{"ast":null,"code":"// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright vis.gl contributors\nimport { VectorTileFeature } from \"./vector-tile-feature.js\";\nexport class VectorTileLayer {\n  version;\n  name;\n  extent;\n  length;\n  _pbf;\n  _keys;\n  _values;\n  _features;\n  constructor(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = '';\n    this.extent = 4096;\n    this.length = 0;\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n    pbf.readFields(readLayer, this, end);\n    this.length = this._features.length;\n  }\n  /**\n   * return feature `i` from this layer as a `VectorTileFeature`\n   * @param index\n   * @returns feature\n   */\n  getGeoJSONFeature(i) {\n    if (i < 0 || i >= this._features.length) {\n      throw new Error('feature index out of bounds');\n    }\n    this._pbf.pos = this._features[i];\n    const end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n  }\n  /**\n   * return binary feature `i` from this layer as a `VectorTileFeature`\n   *\n   * @param index\n   * @param geometryInfo\n   * @returns binary feature\n   */\n  getBinaryFeature(i, geometryInfo) {\n    if (i < 0 || i >= this._features.length) {\n      throw new Error('feature index out of bounds');\n    }\n    this._pbf.pos = this._features[i];\n    const end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values, geometryInfo);\n  }\n}\n/**\n *\n * @param tag\n * @param layer\n * @param pbf\n */\nfunction readLayer(tag, layer, pbf) {\n  if (layer && pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();else if (tag === 1) layer.name = pbf.readString();else if (tag === 5) layer.extent = pbf.readVarint();else if (tag === 2) layer._features.push(pbf.pos);else if (tag === 3) layer._keys.push(pbf.readString());else if (tag === 4) layer._values.push(readValueMessage(pbf));\n  }\n}\n/**\n *\n * @param pbf\n * @returns value\n */\nfunction readValueMessage(pbf) {\n  let value = null;\n  const end = pbf.readVarint() + pbf.pos;\n  while (pbf.pos < end) {\n    const tag = pbf.readVarint() >> 3;\n    value = tag === 1 ? pbf.readString() : tag === 2 ? pbf.readFloat() : tag === 3 ? pbf.readDouble() : tag === 4 ? pbf.readVarint64() : tag === 5 ? pbf.readVarint() : tag === 6 ? pbf.readSVarint() : tag === 7 ? pbf.readBoolean() : null;\n  }\n  return value;\n}","map":{"version":3,"names":["VectorTileFeature","VectorTileLayer","version","name","extent","length","_pbf","_keys","_values","_features","constructor","pbf","end","readFields","readLayer","getGeoJSONFeature","i","Error","pos","readVarint","getBinaryFeature","geometryInfo","tag","layer","readString","push","readValueMessage","value","readFloat","readDouble","readVarint64","readSVarint","readBoolean"],"sources":["C:/Users/jakes/Documents/GitHub/duck-data-flask/duck-data-webpage/node_modules/@loaders.gl/mvt/dist/lib/vector-tile/vector-tile-layer.js"],"sourcesContent":["// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright vis.gl contributors\nimport { VectorTileFeature } from \"./vector-tile-feature.js\";\nexport class VectorTileLayer {\n    version;\n    name;\n    extent;\n    length;\n    _pbf;\n    _keys;\n    _values;\n    _features;\n    constructor(pbf, end) {\n        // Public\n        this.version = 1;\n        this.name = '';\n        this.extent = 4096;\n        this.length = 0;\n        // Private\n        this._pbf = pbf;\n        this._keys = [];\n        this._values = [];\n        this._features = [];\n        pbf.readFields(readLayer, this, end);\n        this.length = this._features.length;\n    }\n    /**\n     * return feature `i` from this layer as a `VectorTileFeature`\n     * @param index\n     * @returns feature\n     */\n    getGeoJSONFeature(i) {\n        if (i < 0 || i >= this._features.length) {\n            throw new Error('feature index out of bounds');\n        }\n        this._pbf.pos = this._features[i];\n        const end = this._pbf.readVarint() + this._pbf.pos;\n        return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n    }\n    /**\n     * return binary feature `i` from this layer as a `VectorTileFeature`\n     *\n     * @param index\n     * @param geometryInfo\n     * @returns binary feature\n     */\n    getBinaryFeature(i, geometryInfo) {\n        if (i < 0 || i >= this._features.length) {\n            throw new Error('feature index out of bounds');\n        }\n        this._pbf.pos = this._features[i];\n        const end = this._pbf.readVarint() + this._pbf.pos;\n        return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values, geometryInfo);\n    }\n}\n/**\n *\n * @param tag\n * @param layer\n * @param pbf\n */\nfunction readLayer(tag, layer, pbf) {\n    if (layer && pbf) {\n        if (tag === 15)\n            layer.version = pbf.readVarint();\n        else if (tag === 1)\n            layer.name = pbf.readString();\n        else if (tag === 5)\n            layer.extent = pbf.readVarint();\n        else if (tag === 2)\n            layer._features.push(pbf.pos);\n        else if (tag === 3)\n            layer._keys.push(pbf.readString());\n        else if (tag === 4)\n            layer._values.push(readValueMessage(pbf));\n    }\n}\n/**\n *\n * @param pbf\n * @returns value\n */\nfunction readValueMessage(pbf) {\n    let value = null;\n    const end = pbf.readVarint() + pbf.pos;\n    while (pbf.pos < end) {\n        const tag = pbf.readVarint() >> 3;\n        value =\n            tag === 1\n                ? pbf.readString()\n                : tag === 2\n                    ? pbf.readFloat()\n                    : tag === 3\n                        ? pbf.readDouble()\n                        : tag === 4\n                            ? pbf.readVarint64()\n                            : tag === 5\n                                ? pbf.readVarint()\n                                : tag === 6\n                                    ? pbf.readSVarint()\n                                    : tag === 7\n                                        ? pbf.readBoolean()\n                                        : null;\n    }\n    return value;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}