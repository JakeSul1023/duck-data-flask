{"ast":null,"code":"// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { clamp } from '@math.gl/core';\nimport Controller from \"./controller.js\";\nimport { MapState } from \"./map-controller.js\";\nimport { mod } from \"../utils/math-utils.js\";\nimport LinearInterpolator from \"../transitions/linear-interpolator.js\";\nimport { MAX_LATITUDE } from '@math.gl/web-mercator';\nclass GlobeState extends MapState {\n  // Apply any constraints (mathematical or defined by _viewportProps) to map state\n  applyConstraints(props) {\n    // Ensure zoom is within specified range\n    const {\n      maxZoom,\n      minZoom,\n      zoom\n    } = props;\n    props.zoom = clamp(zoom, minZoom, maxZoom);\n    const {\n      longitude,\n      latitude\n    } = props;\n    if (longitude < -180 || longitude > 180) {\n      props.longitude = mod(longitude + 180, 360) - 180;\n    }\n    props.latitude = clamp(latitude, -MAX_LATITUDE, MAX_LATITUDE);\n    return props;\n  }\n}\nexport default class GlobeController extends Controller {\n  constructor() {\n    super(...arguments);\n    this.ControllerState = GlobeState;\n    this.transition = {\n      transitionDuration: 300,\n      transitionInterpolator: new LinearInterpolator(['longitude', 'latitude', 'zoom'])\n    };\n    this.dragMode = 'pan';\n  }\n  setProps(props) {\n    super.setProps(props);\n    // TODO - support pitching?\n    this.dragRotate = false;\n    this.touchRotate = false;\n  }\n}","map":{"version":3,"names":["clamp","Controller","MapState","mod","LinearInterpolator","MAX_LATITUDE","GlobeState","applyConstraints","props","maxZoom","minZoom","zoom","longitude","latitude","GlobeController","constructor","ControllerState","transition","transitionDuration","transitionInterpolator","dragMode","setProps","dragRotate","touchRotate"],"sources":["C:\\Users\\jakes\\Documents\\GitHub\\duck-data-flask\\duck-data-webpage\\node_modules\\@deck.gl\\core\\src\\controllers\\globe-controller.ts"],"sourcesContent":["// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n\nimport {clamp} from '@math.gl/core';\nimport Controller, {ControllerProps} from './controller';\n\nimport {MapState, MapStateProps} from './map-controller';\nimport {mod} from '../utils/math-utils';\nimport LinearInterpolator from '../transitions/linear-interpolator';\n\nimport {MAX_LATITUDE} from '@math.gl/web-mercator';\n\nclass GlobeState extends MapState {\n  // Apply any constraints (mathematical or defined by _viewportProps) to map state\n  applyConstraints(props: Required<MapStateProps>): Required<MapStateProps> {\n    // Ensure zoom is within specified range\n    const {maxZoom, minZoom, zoom} = props;\n    props.zoom = clamp(zoom, minZoom, maxZoom);\n\n    const {longitude, latitude} = props;\n    if (longitude < -180 || longitude > 180) {\n      props.longitude = mod(longitude + 180, 360) - 180;\n    }\n    props.latitude = clamp(latitude, -MAX_LATITUDE, MAX_LATITUDE);\n\n    return props;\n  }\n}\n\nexport default class GlobeController extends Controller<MapState> {\n  ControllerState = GlobeState;\n\n  transition = {\n    transitionDuration: 300,\n    transitionInterpolator: new LinearInterpolator(['longitude', 'latitude', 'zoom'])\n  };\n\n  dragMode: 'pan' | 'rotate' = 'pan';\n\n  setProps(props: ControllerProps) {\n    super.setProps(props);\n\n    // TODO - support pitching?\n    this.dragRotate = false;\n    this.touchRotate = false;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAAQA,KAAK,QAAO,eAAe;AACnC,OAAOC,UAA6B;AAEpC,SAAQC,QAAQ,QAAgB;AAChC,SAAQC,GAAG,QAAC;AACZ,OAAOC,kBAAkB;AAEzB,SAAQC,YAAY,QAAO,uBAAuB;AAElD,MAAMC,UAAW,SAAQJ,QAAQ;EAC/B;EACAK,gBAAgBA,CAACC,KAA8B;IAC7C;IACA,MAAM;MAACC,OAAO;MAAEC,OAAO;MAAEC;IAAI,CAAC,GAAGH,KAAK;IACtCA,KAAK,CAACG,IAAI,GAAGX,KAAK,CAACW,IAAI,EAAED,OAAO,EAAED,OAAO,CAAC;IAE1C,MAAM;MAACG,SAAS;MAAEC;IAAQ,CAAC,GAAGL,KAAK;IACnC,IAAII,SAAS,GAAG,CAAC,GAAG,IAAIA,SAAS,GAAG,GAAG,EAAE;MACvCJ,KAAK,CAACI,SAAS,GAAGT,GAAG,CAACS,SAAS,GAAG,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG;IACnD;IACAJ,KAAK,CAACK,QAAQ,GAAGb,KAAK,CAACa,QAAQ,EAAE,CAACR,YAAY,EAAEA,YAAY,CAAC;IAE7D,OAAOG,KAAK;EACd;;AAGF,eAAc,MAAOM,eAAgB,SAAQb,UAAoB;EAAjEc,YAAA;;IACE,KAAAC,eAAe,GAAGV,UAAU;IAE5B,KAAAW,UAAU,GAAG;MACXC,kBAAkB,EAAE,GAAG;MACvBC,sBAAsB,EAAE,IAAIf,kBAAkB,CAAC,CAAC,WAAW,EAAE,UAAU,EAAE,MAAM,CAAC;KACjF;IAED,KAAAgB,QAAQ,GAAqB,KAAK;EASpC;EAPEC,QAAQA,CAACb,KAAsB;IAC7B,KAAK,CAACa,QAAQ,CAACb,KAAK,CAAC;IAErB;IACA,IAAI,CAACc,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,WAAW,GAAG,KAAK;EAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}