{"ast":null,"code":"// math.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n// Copyright (c) 2017 Uber Technologies, Inc.\nimport { Matrix4 } from \"./matrix4.js\";\nimport { Vector3 } from \"./vector3.js\";\nimport { Euler } from \"./euler.js\";\nexport class Pose {\n  constructor({\n    x = 0,\n    y = 0,\n    z = 0,\n    roll = 0,\n    pitch = 0,\n    yaw = 0,\n    position,\n    orientation\n  } = {}) {\n    if (Array.isArray(position) && position.length === 3) {\n      this.position = new Vector3(position);\n    } else {\n      this.position = new Vector3(x, y, z);\n    }\n    if (Array.isArray(orientation) && orientation.length === 4) {\n      // @ts-expect-error\n      this.orientation = new Euler(orientation, orientation[3]);\n    } else {\n      this.orientation = new Euler(roll, pitch, yaw, Euler.RollPitchYaw);\n    }\n  }\n  get x() {\n    return this.position.x;\n  }\n  set x(value) {\n    this.position.x = value;\n  }\n  get y() {\n    return this.position.y;\n  }\n  set y(value) {\n    this.position.y = value;\n  }\n  get z() {\n    return this.position.z;\n  }\n  set z(value) {\n    this.position.z = value;\n  }\n  get roll() {\n    return this.orientation.roll;\n  }\n  set roll(value) {\n    this.orientation.roll = value;\n  }\n  get pitch() {\n    return this.orientation.pitch;\n  }\n  set pitch(value) {\n    this.orientation.pitch = value;\n  }\n  get yaw() {\n    return this.orientation.yaw;\n  }\n  set yaw(value) {\n    this.orientation.yaw = value;\n  }\n  getPosition() {\n    return this.position;\n  }\n  getOrientation() {\n    return this.orientation;\n  }\n  equals(pose) {\n    if (!pose) {\n      return false;\n    }\n    return this.position.equals(pose.position) && this.orientation.equals(pose.orientation);\n  }\n  exactEquals(pose) {\n    if (!pose) {\n      return false;\n    }\n    return this.position.exactEquals(pose.position) && this.orientation.exactEquals(pose.orientation);\n  }\n  getTransformationMatrix() {\n    // setup pre computations for the sin/cos of the angles\n    const sr = Math.sin(this.roll);\n    const sp = Math.sin(this.pitch);\n    const sw = Math.sin(this.yaw);\n    const cr = Math.cos(this.roll);\n    const cp = Math.cos(this.pitch);\n    const cw = Math.cos(this.yaw);\n    // Create matrix\n    return new Matrix4().setRowMajor(cw * cp,\n    // 0,0\n    -sw * cr + cw * sp * sr,\n    // 0,1\n    sw * sr + cw * sp * cr,\n    // 0,2\n    this.x,\n    // 0,3\n    sw * cp,\n    // 1,0\n    cw * cr + sw * sp * sr,\n    // 1,1\n    -cw * sr + sw * sp * cr,\n    // 1,2\n    this.y,\n    // 1,3\n    -sp,\n    // 2,0\n    cp * sr,\n    // 2,1\n    cp * cr,\n    // 2,2\n    this.z,\n    // 2,3\n    0, 0, 0, 1);\n  }\n  getTransformationMatrixFromPose(pose) {\n    return new Matrix4().multiplyRight(this.getTransformationMatrix()).multiplyRight(pose.getTransformationMatrix().invert());\n  }\n  getTransformationMatrixToPose(pose) {\n    return new Matrix4().multiplyRight(pose.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert());\n  }\n}\n//# sourceMappingURL=pose.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}