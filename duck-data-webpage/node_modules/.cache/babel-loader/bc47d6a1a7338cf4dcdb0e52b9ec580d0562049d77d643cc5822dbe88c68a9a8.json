{"ast":null,"code":"// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { GL } from '@luma.gl/constants';\n// Counts the number of complete primitives given a number of vertices and a drawMode\nexport function getPrimitiveDrawMode(drawMode) {\n  switch (drawMode) {\n    case 0:\n      return 0;\n    case 1:\n      return 1;\n    case 3:\n      return 1;\n    case 2:\n      return 1;\n    case 4:\n      return 4;\n    case 5:\n      return 4;\n    case 6:\n      return 4;\n    default:\n      throw new Error('drawMode');\n  }\n}\n// Counts the number of complete \"primitives\" given a number of vertices and a drawMode\nexport function getPrimitiveCount(options) {\n  const {\n    drawMode,\n    vertexCount\n  } = options;\n  switch (drawMode) {\n    case 0:\n    case 2:\n      return vertexCount;\n    case 1:\n      return vertexCount / 2;\n    case 3:\n      return vertexCount - 1;\n    case 4:\n      return vertexCount / 3;\n    case 5:\n    case 6:\n      return vertexCount - 2;\n    default:\n      throw new Error('drawMode');\n  }\n}\n// Counts the number of vertices after splitting the vertex stream into separate \"primitives\"\nexport function getVertexCount(options) {\n  const {\n    drawMode,\n    vertexCount\n  } = options;\n  const primitiveCount = getPrimitiveCount({\n    drawMode,\n    vertexCount\n  });\n  switch (getPrimitiveDrawMode(drawMode)) {\n    case 0:\n      return primitiveCount;\n    case 1:\n      return primitiveCount * 2;\n    case 4:\n      return primitiveCount * 3;\n    default:\n      throw new Error('drawMode');\n  }\n}\n/** Get the primitive type for draw */\nexport function getGLDrawMode(topology) {\n  // prettier-ignore\n  switch (topology) {\n    case 'point-list':\n      return 0;\n    case 'line-list':\n      return 1;\n    case 'line-strip':\n      return 3;\n    case 'triangle-list':\n      return 4;\n    case 'triangle-strip':\n      return 5;\n    default:\n      throw new Error(topology);\n  }\n}\n/** Get the primitive type for transform feedback */\nexport function getGLPrimitive(topology) {\n  // prettier-ignore\n  switch (topology) {\n    case 'point-list':\n      return 0;\n    case 'line-list':\n      return 1;\n    case 'line-strip':\n      return 1;\n    case 'triangle-list':\n      return 4;\n    case 'triangle-strip':\n      return 4;\n    default:\n      throw new Error(topology);\n  }\n}","map":{"version":3,"names":["GL","getPrimitiveDrawMode","drawMode","Error","getPrimitiveCount","options","vertexCount","getVertexCount","primitiveCount","getGLDrawMode","topology","getGLPrimitive"],"sources":["C:\\Users\\jakes\\Documents\\GitHub\\duck-data-flask\\duck-data-webpage\\node_modules\\@luma.gl\\webgl\\src\\adapter\\helpers\\webgl-topology-utils.ts"],"sourcesContent":["// luma.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n\nimport {GL, GLPrimitiveTopology, GLPrimitive} from '@luma.gl/constants';\nimport {PrimitiveTopology} from '@luma.gl/core';\n\n// Counts the number of complete primitives given a number of vertices and a drawMode\nexport function getPrimitiveDrawMode(drawMode: GLPrimitiveTopology): GLPrimitive {\n  switch (drawMode) {\n    case GL.POINTS:\n      return GL.POINTS;\n    case GL.LINES:\n      return GL.LINES;\n    case GL.LINE_STRIP:\n      return GL.LINES;\n    case GL.LINE_LOOP:\n      return GL.LINES;\n    case GL.TRIANGLES:\n      return GL.TRIANGLES;\n    case GL.TRIANGLE_STRIP:\n      return GL.TRIANGLES;\n    case GL.TRIANGLE_FAN:\n      return GL.TRIANGLES;\n    default:\n      throw new Error('drawMode');\n  }\n}\n\n// Counts the number of complete \"primitives\" given a number of vertices and a drawMode\nexport function getPrimitiveCount(options: {\n  drawMode: GLPrimitiveTopology;\n  vertexCount: number;\n}): number {\n  const {drawMode, vertexCount} = options;\n  switch (drawMode) {\n    case GL.POINTS:\n    case GL.LINE_LOOP:\n      return vertexCount;\n    case GL.LINES:\n      return vertexCount / 2;\n    case GL.LINE_STRIP:\n      return vertexCount - 1;\n    case GL.TRIANGLES:\n      return vertexCount / 3;\n    case GL.TRIANGLE_STRIP:\n    case GL.TRIANGLE_FAN:\n      return vertexCount - 2;\n    default:\n      throw new Error('drawMode');\n  }\n}\n\n// Counts the number of vertices after splitting the vertex stream into separate \"primitives\"\nexport function getVertexCount(options: {\n  drawMode: GLPrimitiveTopology;\n  vertexCount: number;\n}): number {\n  const {drawMode, vertexCount} = options;\n  const primitiveCount = getPrimitiveCount({drawMode, vertexCount});\n  switch (getPrimitiveDrawMode(drawMode)) {\n    case GL.POINTS:\n      return primitiveCount;\n    case GL.LINES:\n      return primitiveCount * 2;\n    case GL.TRIANGLES:\n      return primitiveCount * 3;\n    default:\n      throw new Error('drawMode');\n  }\n}\n\n/** Get the primitive type for draw */\nexport function getGLDrawMode(\n  topology: PrimitiveTopology\n):\n  | GL.POINTS\n  | GL.LINES\n  | GL.LINE_STRIP\n  | GL.LINE_LOOP\n  | GL.TRIANGLES\n  | GL.TRIANGLE_STRIP\n  | GL.TRIANGLE_FAN {\n  // prettier-ignore\n  switch (topology) {\n    case 'point-list': return GL.POINTS;\n    case 'line-list': return GL.LINES;\n    case 'line-strip': return GL.LINE_STRIP;\n    case 'triangle-list': return GL.TRIANGLES;\n    case 'triangle-strip': return GL.TRIANGLE_STRIP;\n    default: throw new Error(topology);\n  }\n}\n\n/** Get the primitive type for transform feedback */\nexport function getGLPrimitive(topology: PrimitiveTopology): GL.POINTS | GL.LINES | GL.TRIANGLES {\n  // prettier-ignore\n  switch (topology) {\n    case 'point-list': return GL.POINTS;\n    case 'line-list': return GL.LINES;\n    case 'line-strip': return GL.LINES;\n    case 'triangle-list': return GL.TRIANGLES;\n    case 'triangle-strip': return GL.TRIANGLES;\n    default: throw new Error(topology);\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAAQA,EAAE,QAAyC,oBAAoB;AAGvE;AACA,OAAM,SAAUC,oBAAoBA,CAACC,QAA6B;EAChE,QAAQA,QAAQ;IACd;MACE;IACF;MACE;IACF;MACE;IACF;MACE;IACF;MACE;IACF;MACE;IACF;MACE;IACF;MACE,MAAM,IAAIC,KAAK,CAAC,UAAU,CAAC;EAC/B;AACF;AAEA;AACA,OAAM,SAAUC,iBAAiBA,CAACC,OAGjC;EACC,MAAM;IAACH,QAAQ;IAAEI;EAAW,CAAC,GAAGD,OAAO;EACvC,QAAQH,QAAQ;IACd;IACA;MACE,OAAOI,WAAW;IACpB;MACE,OAAOA,WAAW,GAAG,CAAC;IACxB;MACE,OAAOA,WAAW,GAAG,CAAC;IACxB;MACE,OAAOA,WAAW,GAAG,CAAC;IACxB;IACA;MACE,OAAOA,WAAW,GAAG,CAAC;IACxB;MACE,MAAM,IAAIH,KAAK,CAAC,UAAU,CAAC;EAC/B;AACF;AAEA;AACA,OAAM,SAAUI,cAAcA,CAACF,OAG9B;EACC,MAAM;IAACH,QAAQ;IAAEI;EAAW,CAAC,GAAGD,OAAO;EACvC,MAAMG,cAAc,GAAGJ,iBAAiB,CAAC;IAACF,QAAQ;IAAEI;EAAW,CAAC,CAAC;EACjE,QAAQL,oBAAoB,CAACC,QAAQ,CAAC;IACpC;MACE,OAAOM,cAAc;IACvB;MACE,OAAOA,cAAc,GAAG,CAAC;IAC3B;MACE,OAAOA,cAAc,GAAG,CAAC;IAC3B;MACE,MAAM,IAAIL,KAAK,CAAC,UAAU,CAAC;EAC/B;AACF;AAEA;AACA,OAAM,SAAUM,aAAaA,CAC3BC,QAA2B;EAS3B;EACA,QAAQA,QAAQ;IACd,KAAK,YAAY;MAAE;IACnB,KAAK,WAAW;MAAE;IAClB,KAAK,YAAY;MAAE;IACnB,KAAK,eAAe;MAAE;IACtB,KAAK,gBAAgB;MAAE;IACvB;MAAS,MAAM,IAAIP,KAAK,CAACO,QAAQ,CAAC;EACpC;AACF;AAEA;AACA,OAAM,SAAUC,cAAcA,CAACD,QAA2B;EACxD;EACA,QAAQA,QAAQ;IACd,KAAK,YAAY;MAAE;IACnB,KAAK,WAAW;MAAE;IAClB,KAAK,YAAY;MAAE;IACnB,KAAK,eAAe;MAAE;IACtB,KAAK,gBAAgB;MAAE;IACvB;MAAS,MAAM,IAAIP,KAAK,CAACO,QAAQ,CAAC;EACpC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}