{"ast":null,"code":"// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n/* global document */\nimport { _deepEqual, _applyStyles, _removeStyles } from '@deck.gl/core';\nexport class WidgetImpl {\n  constructor(props) {\n    this.id = props.id || 'widget';\n    this.props = props;\n  }\n  onAdd({\n    deck\n  }) {\n    this.deck = deck;\n    const {\n      style,\n      className\n    } = this.props;\n    const el = this._createRootElement({\n      widgetClassName: this.className,\n      className,\n      style\n    });\n    this.element = el;\n    this.onRenderHTML();\n    return this.element;\n  }\n  onRemove() {\n    this.deck = undefined;\n    this.element = undefined;\n  }\n  setProps(props) {\n    const oldProps = this.props;\n    const el = this.element;\n    if (el) {\n      if (oldProps.className !== props.className) {\n        if (oldProps.className) el.classList.remove(oldProps.className);\n        if (props.className) el.classList.add(props.className);\n      }\n      if (!_deepEqual(oldProps.style, props.style, 1)) {\n        _removeStyles(el, oldProps.style);\n        _applyStyles(el, props.style);\n      }\n    }\n    Object.assign(this.props, props);\n    this.onRenderHTML();\n  }\n  _createRootElement(props) {\n    const {\n      widgetClassName,\n      className,\n      style\n    } = props;\n    const element = document.createElement('div');\n    ['deck-widget', widgetClassName, className].filter(cls => typeof cls === 'string' && cls.length > 0).forEach(className => element.classList.add(className));\n    _applyStyles(element, style);\n    return element;\n  }\n}\nWidgetImpl.defaultProps = {\n  id: 'widget',\n  style: {},\n  className: ''\n};","map":{"version":3,"names":["_deepEqual","_applyStyles","_removeStyles","WidgetImpl","constructor","props","id","onAdd","deck","style","className","el","_createRootElement","widgetClassName","element","onRenderHTML","onRemove","undefined","setProps","oldProps","classList","remove","add","Object","assign","document","createElement","filter","cls","length","forEach","defaultProps"],"sources":["C:\\Users\\jakes\\Documents\\GitHub\\duck-data-flask\\duck-data-webpage\\node_modules\\@deck.gl\\widgets\\src\\widget-impl.ts"],"sourcesContent":["// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n\n/* global document */\nimport {_deepEqual, _applyStyles, _removeStyles} from '@deck.gl/core';\nimport type {Deck, Widget} from '@deck.gl/core';\n\nexport type WidgetImplProps = {\n  id?: string;\n  /** CSS inline style overrides. */\n  style?: Partial<CSSStyleDeclaration>;\n  /** Additional CSS class. */\n  className?: string;\n};\nexport abstract class WidgetImpl<PropsT extends WidgetImplProps> implements Widget<PropsT> {\n  id: string;\n  props: Required<PropsT>;\n\n  deck?: Deck<any>;\n  element?: HTMLDivElement;\n\n  static defaultProps: Required<WidgetImplProps> = {\n    id: 'widget',\n    style: {},\n    className: ''\n  };\n\n  abstract className: Required<string>;\n\n  constructor(props: Required<PropsT>) {\n    this.id = props.id || 'widget';\n    this.props = props;\n  }\n\n  abstract onRenderHTML(): void;\n\n  onAdd({deck}: {deck: Deck<any>}): HTMLDivElement {\n    this.deck = deck;\n    const {style, className} = this.props;\n    const el = this._createRootElement({\n      widgetClassName: this.className,\n      className,\n      style\n    });\n    this.element = el;\n    this.onRenderHTML();\n    return this.element;\n  }\n\n  onRemove() {\n    this.deck = undefined;\n    this.element = undefined;\n  }\n\n  setProps(props: Partial<PropsT>) {\n    const oldProps = this.props;\n    const el = this.element;\n    if (el) {\n      if (oldProps.className !== props.className) {\n        if (oldProps.className) el.classList.remove(oldProps.className);\n        if (props.className) el.classList.add(props.className);\n      }\n\n      if (!_deepEqual(oldProps.style, props.style, 1)) {\n        _removeStyles(el, oldProps.style);\n        _applyStyles(el, props.style);\n      }\n    }\n\n    Object.assign(this.props, props);\n    this.onRenderHTML();\n  }\n\n  _createRootElement(props: {\n    widgetClassName: string;\n    className?: string;\n    style?: Partial<CSSStyleDeclaration>;\n  }) {\n    const {widgetClassName, className, style} = props;\n    const element = document.createElement('div');\n    ['deck-widget', widgetClassName, className]\n      .filter((cls): cls is string => typeof cls === 'string' && cls.length > 0)\n      .forEach(className => element.classList.add(className));\n    _applyStyles(element, style);\n    return element;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA;AACA,SAAQA,UAAU,EAAEC,YAAY,EAAEC,aAAa,QAAO,eAAe;AAUrE,OAAM,MAAgBC,UAAU;EAe9BC,YAAYC,KAAuB;IACjC,IAAI,CAACC,EAAE,GAAGD,KAAK,CAACC,EAAE,IAAI,QAAQ;IAC9B,IAAI,CAACD,KAAK,GAAGA,KAAK;EACpB;EAIAE,KAAKA,CAAC;IAACC;EAAI,CAAoB;IAC7B,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,MAAM;MAACC,KAAK;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACL,KAAK;IACrC,MAAMM,EAAE,GAAG,IAAI,CAACC,kBAAkB,CAAC;MACjCC,eAAe,EAAE,IAAI,CAACH,SAAS;MAC/BA,SAAS;MACTD;KACD,CAAC;IACF,IAAI,CAACK,OAAO,GAAGH,EAAE;IACjB,IAAI,CAACI,YAAY,EAAE;IACnB,OAAO,IAAI,CAACD,OAAO;EACrB;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACR,IAAI,GAAGS,SAAS;IACrB,IAAI,CAACH,OAAO,GAAGG,SAAS;EAC1B;EAEAC,QAAQA,CAACb,KAAsB;IAC7B,MAAMc,QAAQ,GAAG,IAAI,CAACd,KAAK;IAC3B,MAAMM,EAAE,GAAG,IAAI,CAACG,OAAO;IACvB,IAAIH,EAAE,EAAE;MACN,IAAIQ,QAAQ,CAACT,SAAS,KAAKL,KAAK,CAACK,SAAS,EAAE;QAC1C,IAAIS,QAAQ,CAACT,SAAS,EAAEC,EAAE,CAACS,SAAS,CAACC,MAAM,CAACF,QAAQ,CAACT,SAAS,CAAC;QAC/D,IAAIL,KAAK,CAACK,SAAS,EAAEC,EAAE,CAACS,SAAS,CAACE,GAAG,CAACjB,KAAK,CAACK,SAAS,CAAC;MACxD;MAEA,IAAI,CAACV,UAAU,CAACmB,QAAQ,CAACV,KAAK,EAAEJ,KAAK,CAACI,KAAK,EAAE,CAAC,CAAC,EAAE;QAC/CP,aAAa,CAACS,EAAE,EAAEQ,QAAQ,CAACV,KAAK,CAAC;QACjCR,YAAY,CAACU,EAAE,EAAEN,KAAK,CAACI,KAAK,CAAC;MAC/B;IACF;IAEAc,MAAM,CAACC,MAAM,CAAC,IAAI,CAACnB,KAAK,EAAEA,KAAK,CAAC;IAChC,IAAI,CAACU,YAAY,EAAE;EACrB;EAEAH,kBAAkBA,CAACP,KAIlB;IACC,MAAM;MAACQ,eAAe;MAAEH,SAAS;MAAED;IAAK,CAAC,GAAGJ,KAAK;IACjD,MAAMS,OAAO,GAAGW,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7C,CAAC,aAAa,EAAEb,eAAe,EAAEH,SAAS,CAAC,CACxCiB,MAAM,CAAEC,GAAG,IAAoB,OAAOA,GAAG,KAAK,QAAQ,IAAIA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,CACzEC,OAAO,CAACpB,SAAS,IAAII,OAAO,CAACM,SAAS,CAACE,GAAG,CAACZ,SAAS,CAAC,CAAC;IACzDT,YAAY,CAACa,OAAO,EAAEL,KAAK,CAAC;IAC5B,OAAOK,OAAO;EAChB;;AAhEOX,UAAA,CAAA4B,YAAY,GAA8B;EAC/CzB,EAAE,EAAE,QAAQ;EACZG,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE;CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}