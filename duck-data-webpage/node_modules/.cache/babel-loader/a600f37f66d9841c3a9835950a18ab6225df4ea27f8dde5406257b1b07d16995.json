{"ast":null,"code":"// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport JSZip from 'jszip';\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof \"4.3.2\" !== 'undefined' ? \"4.3.2\" : 'latest';\n/**\n * Zip exporter\n */\nexport const ZipWriter = {\n  name: 'Zip Archive',\n  id: 'zip',\n  module: 'zip',\n  version: VERSION,\n  extensions: ['zip'],\n  category: 'archive',\n  mimeTypes: ['application/zip'],\n  options: {\n    zip: {\n      onUpdate: () => {}\n    },\n    jszip: {}\n  },\n  encode: encodeZipAsync\n};\nasync function encodeZipAsync(fileMap, options = {}) {\n  const jsZip = new JSZip();\n  // add files to the zip\n  for (const subFileName in fileMap) {\n    const subFileData = fileMap[subFileName];\n    // jszip supports both arraybuffer and string data (the main loaders.gl types)\n    // https://stuk.github.io/jszip/documentation/api_zipobject/async.html\n    jsZip.file(subFileName, subFileData, options?.jszip || {});\n  }\n  const zipOptions = {\n    ...ZipWriter.options.zip,\n    ...options?.zip\n  };\n  const jszipOptions = {\n    ...ZipWriter.options?.jszip,\n    ...options.jszip\n  };\n  try {\n    return await jsZip.generateAsync({\n      ...jszipOptions,\n      type: 'arraybuffer'\n    },\n    // generate an arraybuffer\n    zipOptions.onUpdate);\n  } catch (error) {\n    options.log.error(`Unable to encode zip archive: ${error}`);\n    throw error;\n  }\n}","map":{"version":3,"names":["JSZip","VERSION","ZipWriter","name","id","module","version","extensions","category","mimeTypes","options","zip","onUpdate","jszip","encode","encodeZipAsync","fileMap","jsZip","subFileName","subFileData","file","zipOptions","jszipOptions","generateAsync","type","error","log"],"sources":["C:/Users/jakes/Documents/GitHub/duck-data-flask/duck-data-webpage/node_modules/@loaders.gl/zip/dist/zip-writer.js"],"sourcesContent":["// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport JSZip from 'jszip';\n// @ts-ignore TS2304: Cannot find name '__VERSION__'.\nconst VERSION = typeof \"4.3.2\" !== 'undefined' ? \"4.3.2\" : 'latest';\n/**\n * Zip exporter\n */\nexport const ZipWriter = {\n    name: 'Zip Archive',\n    id: 'zip',\n    module: 'zip',\n    version: VERSION,\n    extensions: ['zip'],\n    category: 'archive',\n    mimeTypes: ['application/zip'],\n    options: {\n        zip: {\n            onUpdate: () => { }\n        },\n        jszip: {}\n    },\n    encode: encodeZipAsync\n};\nasync function encodeZipAsync(fileMap, options = {}) {\n    const jsZip = new JSZip();\n    // add files to the zip\n    for (const subFileName in fileMap) {\n        const subFileData = fileMap[subFileName];\n        // jszip supports both arraybuffer and string data (the main loaders.gl types)\n        // https://stuk.github.io/jszip/documentation/api_zipobject/async.html\n        jsZip.file(subFileName, subFileData, options?.jszip || {});\n    }\n    const zipOptions = { ...ZipWriter.options.zip, ...options?.zip };\n    const jszipOptions = { ...ZipWriter.options?.jszip, ...options.jszip };\n    try {\n        return await jsZip.generateAsync({ ...jszipOptions, type: 'arraybuffer' }, // generate an arraybuffer\n        zipOptions.onUpdate);\n    }\n    catch (error) {\n        options.log.error(`Unable to encode zip archive: ${error}`);\n        throw error;\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,MAAMC,OAAO,GAAG,OAAO,OAAO,KAAK,WAAW,GAAG,OAAO,GAAG,QAAQ;AACnE;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG;EACrBC,IAAI,EAAE,aAAa;EACnBC,EAAE,EAAE,KAAK;EACTC,MAAM,EAAE,KAAK;EACbC,OAAO,EAAEL,OAAO;EAChBM,UAAU,EAAE,CAAC,KAAK,CAAC;EACnBC,QAAQ,EAAE,SAAS;EACnBC,SAAS,EAAE,CAAC,iBAAiB,CAAC;EAC9BC,OAAO,EAAE;IACLC,GAAG,EAAE;MACDC,QAAQ,EAAEA,CAAA,KAAM,CAAE;IACtB,CAAC;IACDC,KAAK,EAAE,CAAC;EACZ,CAAC;EACDC,MAAM,EAAEC;AACZ,CAAC;AACD,eAAeA,cAAcA,CAACC,OAAO,EAAEN,OAAO,GAAG,CAAC,CAAC,EAAE;EACjD,MAAMO,KAAK,GAAG,IAAIjB,KAAK,CAAC,CAAC;EACzB;EACA,KAAK,MAAMkB,WAAW,IAAIF,OAAO,EAAE;IAC/B,MAAMG,WAAW,GAAGH,OAAO,CAACE,WAAW,CAAC;IACxC;IACA;IACAD,KAAK,CAACG,IAAI,CAACF,WAAW,EAAEC,WAAW,EAAET,OAAO,EAAEG,KAAK,IAAI,CAAC,CAAC,CAAC;EAC9D;EACA,MAAMQ,UAAU,GAAG;IAAE,GAAGnB,SAAS,CAACQ,OAAO,CAACC,GAAG;IAAE,GAAGD,OAAO,EAAEC;EAAI,CAAC;EAChE,MAAMW,YAAY,GAAG;IAAE,GAAGpB,SAAS,CAACQ,OAAO,EAAEG,KAAK;IAAE,GAAGH,OAAO,CAACG;EAAM,CAAC;EACtE,IAAI;IACA,OAAO,MAAMI,KAAK,CAACM,aAAa,CAAC;MAAE,GAAGD,YAAY;MAAEE,IAAI,EAAE;IAAc,CAAC;IAAE;IAC3EH,UAAU,CAACT,QAAQ,CAAC;EACxB,CAAC,CACD,OAAOa,KAAK,EAAE;IACVf,OAAO,CAACgB,GAAG,CAACD,KAAK,CAAC,iCAAiCA,KAAK,EAAE,CAAC;IAC3D,MAAMA,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}