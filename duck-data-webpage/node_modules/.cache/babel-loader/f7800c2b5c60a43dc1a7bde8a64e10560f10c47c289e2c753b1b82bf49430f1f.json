{"ast":null,"code":"// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { deepEqual } from \"../utils/deep-equal.js\";\nclass LayerExtension {\n  static get componentName() {\n    return Object.prototype.hasOwnProperty.call(this, 'extensionName') ? this.extensionName : '';\n  }\n  constructor(opts) {\n    if (opts) {\n      this.opts = opts;\n    }\n  }\n  /** Returns true if two extensions are equivalent */\n  equals(extension) {\n    if (this === extension) {\n      return true;\n    }\n    // Compare extensions shallowly\n    return this.constructor === extension.constructor && deepEqual(this.opts, extension.opts, 1);\n  }\n  /** Only called if attached to a primitive layer */\n  getShaders(extension) {\n    return null;\n  }\n  /** Only called if attached to a CompositeLayer */\n  getSubLayerProps(extension) {\n    const {\n      defaultProps\n    } = extension.constructor;\n    const newProps = {\n      updateTriggers: {}\n    };\n    /* eslint-disable max-depth */\n    for (const key in defaultProps) {\n      if (key in this.props) {\n        const propDef = defaultProps[key];\n        const propValue = this.props[key];\n        newProps[key] = propValue;\n        if (propDef && propDef.type === 'accessor') {\n          newProps.updateTriggers[key] = this.props.updateTriggers[key];\n          if (typeof propValue === 'function') {\n            newProps[key] = this.getSubLayerAccessor(propValue);\n          }\n        }\n      }\n    }\n    /* eslint-enable max-depth */\n    return newProps;\n  }\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  initializeState(context, extension) {}\n  updateState(params, extension) {}\n  onNeedsRedraw(extension) {}\n  getNeedsPickingBuffer(extension) {\n    return false;\n  }\n  draw(params, extension) {}\n  finalizeState(context, extension) {}\n}\nLayerExtension.defaultProps = {};\nLayerExtension.extensionName = 'LayerExtension';\nexport default LayerExtension;","map":{"version":3,"names":["deepEqual","LayerExtension","componentName","Object","prototype","hasOwnProperty","call","extensionName","constructor","opts","equals","extension","getShaders","getSubLayerProps","defaultProps","newProps","updateTriggers","key","props","propDef","propValue","type","getSubLayerAccessor","initializeState","context","updateState","params","onNeedsRedraw","getNeedsPickingBuffer","draw","finalizeState"],"sources":["C:\\Users\\jakes\\Documents\\GitHub\\duck-data-flask\\duck-data-webpage\\node_modules\\@deck.gl\\core\\src\\lib\\layer-extension.ts"],"sourcesContent":["// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\n\nimport {deepEqual} from '../utils/deep-equal';\nimport type Layer from './layer';\nimport type CompositeLayer from './composite-layer';\nimport type {UpdateParameters} from './layer';\nimport type {LayerContext} from './layer-manager';\n\nexport default abstract class LayerExtension<OptionsT = unknown> {\n  static defaultProps = {};\n  static extensionName = 'LayerExtension';\n\n  static get componentName() {\n    return Object.prototype.hasOwnProperty.call(this, 'extensionName') ? this.extensionName : '';\n  }\n\n  opts!: OptionsT;\n\n  constructor(opts?: OptionsT) {\n    if (opts) {\n      this.opts = opts;\n    }\n  }\n\n  /** Returns true if two extensions are equivalent */\n  equals(extension: LayerExtension<OptionsT>): boolean {\n    if (this === extension) {\n      return true;\n    }\n\n    // Compare extensions shallowly\n    return this.constructor === extension.constructor && deepEqual(this.opts, extension.opts, 1);\n  }\n\n  /** Only called if attached to a primitive layer */\n  getShaders(this: Layer, extension: this): any {\n    return null;\n  }\n\n  /** Only called if attached to a CompositeLayer */\n  getSubLayerProps(this: CompositeLayer, extension: this): any {\n    const {defaultProps} = extension.constructor as typeof LayerExtension;\n    const newProps = {\n      updateTriggers: {}\n    };\n\n    /* eslint-disable max-depth */\n    for (const key in defaultProps) {\n      if (key in this.props) {\n        const propDef = defaultProps[key];\n        const propValue = this.props[key];\n        newProps[key] = propValue;\n        if (propDef && propDef.type === 'accessor') {\n          newProps.updateTriggers[key] = this.props.updateTriggers[key];\n          if (typeof propValue === 'function') {\n            newProps[key] = this.getSubLayerAccessor(propValue);\n          }\n        }\n      }\n    }\n    /* eslint-enable max-depth */\n    return newProps;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  initializeState(this: Layer, context: LayerContext, extension: this): void {}\n\n  updateState(this: Layer, params: UpdateParameters<Layer>, extension: this): void {}\n\n  onNeedsRedraw(this: Layer, extension: this): void {}\n\n  getNeedsPickingBuffer(this: Layer, extension: this): boolean {\n    return false;\n  }\n\n  draw(this: Layer, params: any, extension: this): void {}\n\n  finalizeState(this: Layer, context: LayerContext, extension: this): void {}\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAAQA,SAAS,QAAC;AAMlB,MAA8BC,cAAc;EAI1C,WAAWC,aAAaA,CAAA;IACtB,OAAOC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC,IAAI,EAAE,eAAe,CAAC,GAAG,IAAI,CAACC,aAAa,GAAG,EAAE;EAC9F;EAIAC,YAAYC,IAAe;IACzB,IAAIA,IAAI,EAAE;MACR,IAAI,CAACA,IAAI,GAAGA,IAAI;IAClB;EACF;EAEA;EACAC,MAAMA,CAACC,SAAmC;IACxC,IAAI,IAAI,KAAKA,SAAS,EAAE;MACtB,OAAO,IAAI;IACb;IAEA;IACA,OAAO,IAAI,CAACH,WAAW,KAAKG,SAAS,CAACH,WAAW,IAAIR,SAAS,CAAC,IAAI,CAACS,IAAI,EAAEE,SAAS,CAACF,IAAI,EAAE,CAAC,CAAC;EAC9F;EAEA;EACAG,UAAUA,CAAcD,SAAe;IACrC,OAAO,IAAI;EACb;EAEA;EACAE,gBAAgBA,CAAuBF,SAAe;IACpD,MAAM;MAACG;IAAY,CAAC,GAAGH,SAAS,CAACH,WAAoC;IACrE,MAAMO,QAAQ,GAAG;MACfC,cAAc,EAAE;KACjB;IAED;IACA,KAAK,MAAMC,GAAG,IAAIH,YAAY,EAAE;MAC9B,IAAIG,GAAG,IAAI,IAAI,CAACC,KAAK,EAAE;QACrB,MAAMC,OAAO,GAAGL,YAAY,CAACG,GAAG,CAAC;QACjC,MAAMG,SAAS,GAAG,IAAI,CAACF,KAAK,CAACD,GAAG,CAAC;QACjCF,QAAQ,CAACE,GAAG,CAAC,GAAGG,SAAS;QACzB,IAAID,OAAO,IAAIA,OAAO,CAACE,IAAI,KAAK,UAAU,EAAE;UAC1CN,QAAQ,CAACC,cAAc,CAACC,GAAG,CAAC,GAAG,IAAI,CAACC,KAAK,CAACF,cAAc,CAACC,GAAG,CAAC;UAC7D,IAAI,OAAOG,SAAS,KAAK,UAAU,EAAE;YACnCL,QAAQ,CAACE,GAAG,CAAC,GAAG,IAAI,CAACK,mBAAmB,CAACF,SAAS,CAAC;UACrD;QACF;MACF;IACF;IACA;IACA,OAAOL,QAAQ;EACjB;EAEA;EACAQ,eAAeA,CAAcC,OAAqB,EAAEb,SAAe,GAAS;EAE5Ec,WAAWA,CAAcC,MAA+B,EAAEf,SAAe,GAAS;EAElFgB,aAAaA,CAAchB,SAAe,GAAS;EAEnDiB,qBAAqBA,CAAcjB,SAAe;IAChD,OAAO,KAAK;EACd;EAEAkB,IAAIA,CAAcH,MAAW,EAAEf,SAAe,GAAS;EAEvDmB,aAAaA,CAAcN,OAAqB,EAAEb,SAAe,GAAS;;AApEnEV,cAAA,CAAAa,YAAY,GAAG,EAAE;AACjBb,cAAA,CAAAM,aAAa,GAAG,gBAAgB;eAFXN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}