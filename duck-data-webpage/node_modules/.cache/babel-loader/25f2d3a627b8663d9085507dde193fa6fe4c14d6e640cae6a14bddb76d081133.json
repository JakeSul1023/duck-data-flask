{"ast":null,"code":"// deck.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { DirectionalLight } from \"./directional-light.js\";\nimport { getSunDirection } from '@math.gl/sun';\nexport default class SunLight extends DirectionalLight {\n  constructor(opts) {\n    super(opts);\n    this.timestamp = opts.timestamp;\n  }\n  getProjectedLight({\n    layer\n  }) {\n    const {\n      viewport\n    } = layer.context;\n    const isGlobe = viewport.resolution && viewport.resolution > 0;\n    if (isGlobe) {\n      // Rotate vector to align with the direction of the globe projection (up at lon:0,lat:0 is [0, -1, 0])\n      const [x, y, z] = getSunDirection(this.timestamp, 0, 0);\n      this.direction = [x, -z, y];\n    } else {\n      // @ts-expect-error longitude and latitude are not defined on all viewports\n      const {\n        latitude,\n        longitude\n      } = viewport;\n      this.direction = getSunDirection(this.timestamp, latitude, longitude);\n    }\n    return this;\n  }\n}\n//# sourceMappingURL=sun-light.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}