{"ast":null,"code":"// loaders.gl\n// SPDX-License-Identifier: MIT\n// Copyright (c) vis.gl contributors\nimport { XMLLoader } from '@loaders.gl/xml';\n/**\n * Parses a typed data structure from raw XML for `GetFeatureInfo` response\n * @note Error handlings is fairly weak\n */\nexport function parseWMSFeatureInfo(text, options) {\n  const parsedXML = XMLLoader.parseTextSync?.(text, options);\n  const xmlFeatureInfo = parsedXML.FeatureInfoResponse?.FIELDS || [];\n  const xmlFeatures = Array.isArray(xmlFeatureInfo) ? xmlFeatureInfo : [xmlFeatureInfo];\n  return {\n    features: xmlFeatures.map(xmlFeature => extractFeature(xmlFeature))\n  };\n}\nfunction extractFeature(xmlFeature) {\n  const xmlFields = xmlFeature || {};\n  // TODO - not correct\n  return {\n    attributes: xmlFields,\n    type: '',\n    bounds: {\n      bottom: 0,\n      top: 0,\n      left: 0,\n      right: 0\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}